<!DOCTYPE html>
<html>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
<script src = "controller.js"></script>
<head>
	<title>Temp Lister</title>
</head>
<body>
	<div class = "container" data-ng-app = "GraphApp">
		<div>
			<h1>Temp Display 1</h1>
			<table class="table">
				<thead>
					<tr>
						<th>Temp</th>
						<th>Time</th>
					</tr>
				</thead>
				<tbody data-ng-controller = "ctrl01">
					<tr data-ng-repeat = "tempD in tempList" >
	            		<td>{{tempD.temp}}</td>
	            		<td>{{tempD.time}}</td>
	       			 </tr>
				</tbody>
			</table>
		</div>
	
	
		<div>
			<h1>Temp Display 2</h1>
			<table class="table">
				<thead>
					<tr>
						<th>Temp</th>
						<th>Time</th>
					</tr>
				</thead>
				<tbody data-ng-controller = "ctrl02">
					<tr data-ng-repeat = "x in t" >
	            		<td>{{x.temp}}</td>
	            		<td>{{x.time}}</td>
	       			 </tr>
				</tbody>
			</table>
		</div>
	</div>
<script>
/**
 * Define the app.
 */
var app = angular.module('GraphApp',[]);

/**
 * Define controller 1 for testing purposes.
 */
app.controller('ctrl01', function($scope){
    temp1 = {
            temp: 77,
            time: 5
    };
    temp2 = {
            temp: 99,
            time: 69
    };
    temp3 = {
            temp: 69,
            time: 5
    };
    var tempList = [temp1,temp2,temp3];
    $scope.tempList = tempList;
});


/*
 * Get temperatures. The url points to your getTemp
 * method in server_1.js.
 */
app.controller('ctrl02', function($scope, $http) {
    $http({
        method : 'GET',
        url : '/getTemp'
    }).then( function(response) {        
        $scope.t = response.data;
    });
});

</script>
	
</body>
</html>